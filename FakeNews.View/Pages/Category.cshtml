@page
@model FakeNews.View.Pages.CategoryModel
@{
}

<div class="row mb-4">
    <p>
        دسته بندی
        <strong>
            @Model.CurrentCategory.TitleFa 
            (
                تعداد خبر: 
                @Model.CategoryNews.Count()
            )
        </strong>
    </p>
</div>

<div class="row mb-4">
    <div class="col col-4 col-sm-3 col-md-3 col-lg-2 col-xl-2 xol-xxl-2">
        <lable>
            <strong>
                زیر دسته بندی ها:
            </strong>
        </lable>
    </div>
    @{
        foreach (var cat in Model.ChildCategories)
        {
            <div class="col col-3 col-sm-2 col-md-2 col-lg-2 col-xl-2 col-xxl-2">
                <a href="/Category?catId=@cat.Id">@cat.TitleFa ,</a>
            </div>
        }
    }
</div>

<hr />

<div class="row mt-4">
    @{
        @foreach (var item in Model.CategoryNews)
        {
            <div class="col col-6">
                <div class="card mb-1">
                    <img src="@item.MainImageUri" class="card-img-top" alt="@item.Keywords" style="max-height: 300px">
                    <div class="card-body">
                        <h5 class="card-title">
                            @item.Title
                        </h5>
                        <p class="card-text">
                            @{
                                var headLine = item.HeadLine.Length > 50
                            ? item.HeadLine.Substring(item.HeadLine.Substring(0, 50).IndexOf(" "), 50) + "..."
                            : item.HeadLine;
                            }
                            @headLine
                        </p>
                        <a href="/News?id=@item.Id" class="btn btn-primary">ادامه خبر</a>


                    </div>
                </div>
            </div>
        }
    }
</div>
